<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>${HOSTNAME}:${location} Disk Usage</title>

    <link rel="stylesheet" href="../../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../static/css/style.css">
    <link rel="stylesheet" href="../webtreemap/webtreemap.css" />
    <script src="du.js"></script>
    <style>

      #map {
        width: 800px;
        height: 480px;
        position: relative;
        cursor: pointer;
        -webkit-user-select: none;
      }

      .graphs img { vertical-align: top; }
      .graphs img { display: inline-block; }

      .snapshots {
        float: right;
      }
      .snapshots > ul {
        height: 480px;
        overflow: auto;
        min-width: 120px;
        padding: 0;
      }
      .snapshots li {
        display: block;
        margin: 0;
        padding: 0;
      }
      .snapshots li a {
        display: block;
        padding: 4px;
        margin: 0;
        text-decoration: none;
        color: black;
      }
      .snapshots li a:hover,
      .snapshots li a:active {
        text-decoration: none;
        color: blue;
      }
    </style>
  </head>
  <body>
    <h1>Disk Usage of ${HOSTNAME}:${location}</h1>
    <div class="snapshots">
      Snapshots
      <ul>
% for date in snapshots:
        <li><a href="../diff/${location_name}/${date}..${snapshots[0]}">${date}</a></li>
% endfor
      </ul>
    </div>
    <p>Click on a box to zoom in.  Click on the outermost box to zoom out.</p>
    <div id="map"></div>
    <p id="footer"></p>
    <script src="../webtreemap/webtreemap.js"></script>
    <script>
      var map = document.getElementById('map');
      appendTreemap(map, tree);
      var footer = document.getElementById('footer');
      footer.innerHTML = 'Last updated on ' + last_updated + '.  Disk usage computed in ' + duration + ' seconds.';
    </script>
% if has_disk_graph(location):
    <p class="graphs">
      <img src="${disk_graph_url(location, 'trend')}">
      <img src="${disk_graph_url(location, 'week')}">
    </p>
% endif
  </body>
</html>
